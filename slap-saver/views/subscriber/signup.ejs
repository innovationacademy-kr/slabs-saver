<div class="row">
    <div class="col-md-4 col-md-offset-4">
        <div class="login-panel panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">회원가입</h3>
            </div>
            <div class="panel-body">

                <fieldset>
                    <div class="form-group">
                        <input class="form-control" placeholder="ID" id="email" type="text" autofocus="" required="">
                    </div>
                    <div class="form-group">
                        <input class="form-control" placeholder="이름" id="name" type="text" value="" required="">
                    </div>
                    <div class="form-group">
                        <input class="form-control" placeholder="Password" id="password" type="password" value=""
                            required="">
                    </div>
                    <div class="form-group">
                        <input class="form-control" placeholder="Password 확인" id="confirm" type="password" value=""
                            required="">
                    </div>
                    <!-- Change this to a button or input when using this as a form -->
                    <button id="submit" type="submit" class="btn btn-lg btn-success btn-block" value="가입하기">
                </fieldset>

            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById("submit").onclick = function submit() {
        let email = document.getElementById("email");
        let name = document.getElementById("name");
        let password = document.getElementById('password');
        let confirm = document.getElementById('confirm');
        if (email.value == '' || name.value == '' || password.value == '' || confirm.value == '') {
            alert('빈칸을 채워주세요');
        }
        else if (password.value.length < 6)
        {
            alert('비밀번호가 너무 짧습니다');
        }
        else if (password.value != confirm.value)
        {
            alert('비밀번호를 확인해주세요');
        }
        else {
            axios({
                method: "POST",
                url: '/subscriber/signup',
                data: {
                    "email": email.value,
                    "name": name.value,
                    "password": password.value,
                    "confirm": confirm.value,
                }
            }).then((res) => {
                alert('회원가입 되었습니다.');
                console.log(res);
            }).catch(error => {
                alert(error.response.data.message);
            });
        }
    }

</script>
<script defer src="/vendors/axios/axios.min.js"></script>